<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>CYBERGAME OMEGA</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{
    margin:0;
    background:black;
    overflow:hidden;
    color:#0ff;
    font-family:Arial;
}
h1{
    position:absolute;
    top:10px;
    width:100%;
    text-align:center;
    text-shadow:0 0 10px #0ff,0 0 30px #00f;
}
#ui{
    position:absolute;
    top:50px;
    left:20px;
}
canvas{
    display:block;
}
button{
    background:#0ff;
    border:none;
    padding:8px;
}
#mobileControls{
    position:absolute;
    bottom:20px;
    left:50%;
    transform:translateX(-50%);
}
</style>
</head>
<body>

<h1>‚ö° CYBERGAME OMEGA ‚ö°</h1>
<div id="ui">
‚ù§Ô∏è <span id="hp">100</span><br>
üõ°Ô∏è <span id="shield">50</span><br>
üèÜ <span id="score">0</span><br>
LEVEL <span id="level">1</span>
</div>

<canvas id="game"></canvas>

<div id="mobileControls">
<button onclick="dash()">DASH</button>
<button onclick="shoot()">SHOOT</button>
</div>

<script>
const canvas=document.getElementById("game");
const ctx=canvas.getContext("2d");
canvas.width=innerWidth;
canvas.height=innerHeight;

let player={
    x:canvas.width/2,
    y:canvas.height-120,
    size:30,
    hp:100,
    shield:50,
    speed:6,
    score:0
};

let enemies=[];
let bullets=[];
let particles=[];
let boss=null;
let level=1;
let shake=0;

function spawnEnemy(){
    enemies.push({
        x:Math.random()*canvas.width,
        y:-20,
        size:20,
        speed:2+level*0.5,
        hp:2
    });
}

setInterval(spawnEnemy,1000);

function spawnBoss(){
    boss={
        x:canvas.width/2-60,
        y:50,
        size:120,
        hp:200,
        phase:1
    };
}

function drawPlayer(){
    ctx.fillStyle="#0ff";
    ctx.shadowColor="#0ff";
    ctx.shadowBlur=20;
    ctx.fillRect(player.x,player.y,player.size,player.size);
    ctx.shadowBlur=0;
}

function drawEnemies(){
    enemies.forEach((e,i)=>{
        let dx=player.x-e.x;
        let dy=player.y-e.y;
        let dist=Math.sqrt(dx*dx+dy*dy);
        e.x+=dx/dist*e.speed*0.5;
        e.y+=e.speed;

        ctx.fillStyle="red";
        ctx.fillRect(e.x,e.y,e.size,e.size);

        if(collide(e,player)){
            damagePlayer(10);
            enemies.splice(i,1);
            shake=10;
        }
    });
}

function drawBoss(){
    if(!boss) return;

    ctx.fillStyle="purple";
    ctx.fillRect(boss.x,boss.y,boss.size,boss.size);

    if(boss.hp<100) boss.phase=2;
    if(boss.phase===2){
        ctx.fillStyle="orange";
        ctx.fillRect(boss.x-20,boss.y-20,20,20);
    }
}

function shoot(){
    bullets.push({x:player.x+10,y:player.y,speed:8});
}

function drawBullets(){
    bullets.forEach((b,i)=>{
        b.y-=b.speed;
        ctx.fillStyle="yellow";
        ctx.fillRect(b.x,b.y,5,10);

        enemies.forEach((e,ei)=>{
            if(collide(b,e)){
                spawnExplosion(e.x,e.y);
                enemies.splice(ei,1);
                bullets.splice(i,1);
                player.score+=10;
            }
        });

        if(boss && collide(b,boss)){
            boss.hp-=5;
            bullets.splice(i,1);
            spawnExplosion(b.x,b.y);
            if(boss.hp<=0){
                player.score+=500;
                boss=null;
                level++;
            }
        }
    });
}

function spawnExplosion(x,y){
    for(let i=0;i<20;i++){
        particles.push({
            x,y,
            vx:(Math.random()-0.5)*5,
            vy:(Math.random()-0.5)*5,
            life:30
        });
    }
}

function drawParticles(){
    particles.forEach((p,i)=>{
        p.x+=p.vx;
        p.y+=p.vy;
        p.life--;
        ctx.fillStyle="orange";
        ctx.fillRect(p.x,p.y,3,3);
        if(p.life<=0) particles.splice(i,1);
    });
}

function collide(a,b){
    return a.x<b.x+b.size &&
           a.x+10>b.x &&
           a.y<b.y+b.size &&
           a.y+10>b.y;
}

function damagePlayer(dmg){
    if(player.shield>0){
        player.shield-=dmg;
    }else{
        player.hp-=dmg;
    }
}

function dash(){
    player.x+=100;
}

document.addEventListener("keydown",e=>{
    if(e.key==="ArrowLeft") player.x-=player.speed;
    if(e.key==="ArrowRight") player.x+=player.speed;
    if(e.key===" ") shoot();
});

function cameraShake(){
    if(shake>0){
        ctx.translate(Math.random()*shake-shake/2,Math.random()*shake-shake/2);
        shake--;
    }
}

function updateUI(){
    document.getElementById("hp").innerText=player.hp;
    document.getElementById("shield").innerText=player.shield;
    document.getElementById("score").innerText=player.score;
    document.getElementById("level").innerText=level;
}

function gameLoop(){
    ctx.setTransform(1,0,0,1,0,0);
    ctx.clearRect(0,0,canvas.width,canvas.height);
    cameraShake();

    drawPlayer();
    drawEnemies();
    drawBullets();
    drawParticles();
    drawBoss();

    if(player.score>200 && !boss) spawnBoss();

    updateUI();

    requestAnimationFrame(gameLoop);
}

gameLoop();
</script>
</body>
</html>
